{% extends "global/Page.html" %}
{% load otree static %}

{% block title %}
    Common Value Auction
{% endblock %}
{% block app_scripts %}
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.17/dist/vue.js"></script>
 
    <script src="{% static file_path %}"></script>

   

{% endblock %}

{% block content %}
    <input type="hidden" id="playerName" value='{{ player.id_in_group }}'>
    <input type = "hidden" id = "displayRange" value ='{{ group.displayRange }}'>

    <div id='container'>
        <img id='bidImage' src="{% static image_path %}">
        <div id="imageDesc">
        {% if showGuide %}
            
            <p> <br>
                The value of this item is about {{ group.valueEstimate }} dollars. <br>

            
        {% endif %}

            
                
                Your bid can be between {{ Constants.min_allowable_bid }} and {{ group.max_allowable_bid }}, inclusive.
                <br> Keep in mind that you only get one bid.
                
            </p> 
        <div id="vBids">
            <div v-show="yourTurn">
                It's your turn!

                {% formfield player.bid_amount label="How much are you willing to pay?" %}
                {% next_button %}
                <br>
                
                
            </div>
            <div v-show="!yourTurn">
                    <h4>Wait for your turn. You are # <span id="position"></span> in queue.</h4>
            </div>
            <div id ="bidInfo" v-show="bidAmounts.length != 0">
            <h5>Previous Bids:</h5>
            <ul>
                <li v-for='bid in bidAmounts'> {(bid)} </li>
            </ul>
            <h5 id="medianDisplay"></h5> 
            <h5 id="meanDisplay"> </h5>
        </div>
            
            

            
            </div>
            {% chat nickname=player.nickname %}
            
            
            
            

    
    </div>

</div>





{% endblock %}
{% block styles %}
    <style>
        #bidInfo{
            clear:left
        }
        .otree-chat{
            float: left;
            display: none
        }
        #bidImage{
            width: 30%;
	        height: 20%;
            border-radius: 3%;
            height: auto;
            border: 2px solid black;
            float: left;
            margin: 3%;
            
        }
        #imageDesc{
            margin-left: 2%;
            margin-top: -2%;

            
        }
        #container{
            margin-bottom: 200px;
          
            position: relative;
        }
        #bidArea{
            margin-bottom: -1%;
            position: absolute;
            bottom: 0px;
            

        }/*
        .otree-chat__messages{
            background: white !important;
            border: none !important;


        }
        .otree-chat__input,.otree-chat__btn-send{
            
            display: none
        }*/

    </style>

{% endblock %}
